!function(n){n.extend({preloadImages:function(e,o){for(var l=[],t=0,e=n.isArray(e)?e:[e],o=o||{},r=n.extend({onUpdate:n.noop,onComplete:n.noop,onFailure:n.noop},o),a=0;a<e.length;a++)!function(o,l){var r=n(new Image).load(function(n){t++,l.resolve(Math.ceil(t/e.length*100)),r=n=null}).error(function(n){l.reject(o),r=n=null}).prop("src",o)}(e[a],l[a]=n.Deferred().done(function(n){r.onUpdate.call(this,n)}).fail(function(n){r.onFailure.call(this,n)}));n.when.apply(n,l).done(function(){r.onComplete.call(this)})}})}(jQuery);